set  autoscale                        # scale axes automatically
unset log                              # remove any log-scaling
unset label                            # remove any previous labels
set xtic auto                          # set xtics automatically
set ytic auto                          # set ytics automatically
set format x "%g ms"
set title "Step time frequency plot"
set xlabel "Step time"
set ylabel "Frequency"
set terminal png
set output '../plots/g27_plot04.png'
stats "plot_cumul.gnu" u 1:2 nooutput
min_y = STATS_min_y
max_y = STATS_max_y
set yrange [0:20]
set xrange [min_y*0.9:max_y*1.1]
binwidth=(max_y-min_y)/10
bin(x,width)=width*floor(x/width) + binwidth/2.0
set boxwidth binwidth
plot 'plot_cumul.gnu' using (bin($2,binwidth)):(1.0) title 'Step Time Frequency' smooth freq with boxes, 'plot_cumul.gnu' using (bin($2,binwidth)):(1.0) smooth cumulative title 'Cumulative Step Time frequency'

#plot "data/plot_step_54.gnu" using 1:2 title 'Step Time' with boxes,\
#    "data/plot_step_54.gnu" using 1:2 smooth cumulative title 'Cumulative Step Time'
